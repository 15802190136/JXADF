!function(){var t=Flotr,e=t.DOM,i=t._,s=function(t){this.o=t};s.prototype={dimensions:function(t,e,i,s){return t?this.o.html?this.html(t,this.o.element,i,s):this.canvas(t,e):{width:0,height:0}},canvas:function(e,i){if(this.o.textEnabled){i=i||{};var s,n=this.measureText(e,i),a=n.width,o=i.size||t.defaultOptions.fontSize,h=i.angle||0,r=Math.cos(h),l=Math.sin(h),u=2,d=6;return s={width:Math.abs(r*a)+Math.abs(l*o)+u,height:Math.abs(l*a)+Math.abs(r*o)+d}}},html:function(t,i,s,n){var a=e.create("div");return e.setStyles(a,{position:"absolute",top:"-10000px"}),e.insert(a,'<div style="'+s+'" class="'+n+' flotr-dummy-div">'+t+"</div>"),e.insert(this.o.element,a),e.size(a)},measureText:function(e,s){var n,a=this.o.ctx;return!a.fillText||t.isIphone&&a.measure?{width:a.measure(e,s)}:(s=i.extend({size:t.defaultOptions.fontSize,weight:1,angle:0},s),a.save(),a.font=(s.weight>1?"bold ":"")+1.3*s.size+"px sans-serif",n=a.measureText(e),a.restore(),n)}},Flotr.Text=s}();