gantt.config.quickinfo_buttons=["icon_delete","icon_edit"],gantt.config.quick_info_detached=!0,gantt.attachEvent("onTaskClick",function(a){return gantt.showQuickInfo(a),!0}),function(){for(var a=["onEmptyClick","onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],b=function(){return gantt._hideQuickInfo(),!0},c=0;c<a.length;c++){gantt.attachEvent(a[c],b)}}(),gantt.templates.quick_info_title=function(a,b,c){return c.text.substr(0,50)},gantt.templates.quick_info_content=function(a,b,c){return c.details||c.text},gantt.templates.quick_info_date=function(a,b,c){return gantt.templates.task_time(a,b,c)},gantt.showQuickInfo=function(a){if(a!=this._quick_info_box_id){this.hideQuickInfo(!0);var b=this._get_event_counter_part(a);b&&(this._quick_info_box=this._init_quick_info(b),this._fill_quick_data(a),this._show_quick_info(b))}},gantt._hideQuickInfo=function(){gantt.hideQuickInfo()},gantt.hideQuickInfo=function(a){var b=this._quick_info_box;if(this._quick_info_box_id=0,b&&b.parentNode){if(gantt.config.quick_info_detached){return b.parentNode.removeChild(b)}"auto"==b.style.right?b.style.left="-350px":b.style.right="-350px",a&&b.parentNode.removeChild(b)}},dhtmlxEvent(window,"keydown",function(a){27==a.keyCode&&gantt.hideQuickInfo()}),gantt._show_quick_info=function(d){var g=gantt._quick_info_box;if(gantt.config.quick_info_detached){g.parentNode&&"#document-fragment"!=g.parentNode.nodeName.toLowerCase()||gantt.$task_data.appendChild(g);var h=g.offsetWidth,c=g.offsetHeight,b=this.getScrollState(),f=this.$task.offsetWidth+b.x-h;g.style.left=Math.min(Math.max(b.x,d.left-d.dx*(h-d.width)),f)+"px",g.style.top=d.top-(d.dy?c:-d.height)-25+"px"}else{g.style.top="20px",1==d.dx?(g.style.right="auto",g.style.left="-300px",setTimeout(function(){g.style.left="-10px"},1)):(g.style.left="auto",g.style.right="-300px",setTimeout(function(){g.style.right="-10px"},1)),g.className=g.className.replace("dhx_qi_left","").replace("dhx_qi_left","")+" dhx_qi_"+(1==d?"left":"right"),gantt._obj.appendChild(g)}},gantt._init_quick_info=function(){if(!this._quick_info_box){var b=this._quick_info_box=document.createElement("div");b.className="dhx_cal_quick_info",gantt.$testmode&&(b.className+=" dhx_no_animate");var c='<div class="dhx_cal_qi_title"><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';c+='<div class="dhx_cal_qi_controls">';for(var d=gantt.config.quickinfo_buttons,a=0;a<d.length;a++){c+='<div class="dhx_qi_big_icon '+d[a]+'" title="'+gantt.locale.labels[d[a]]+"\"><div class='dhx_menu_icon "+d[a]+"'></div><div>"+gantt.locale.labels[d[a]]+"</div></div>"}c+="</div>",b.innerHTML=c,dhtmlxEvent(b,"click",function(e){e=e||event,gantt._qi_button_click(e.target||e.srcElement)}),gantt.config.quick_info_detached&&dhtmlxEvent(gantt.$task_data,"scroll",function(){gantt.hideQuickInfo()})}return this._quick_info_box},gantt._qi_button_click=function(b){var c=gantt._quick_info_box;if(b&&b!=c){var d=b.className;if(-1!=d.indexOf("_icon")){var a=gantt._quick_info_box_id;gantt.$click.buttons[d.split(" ")[1].replace("icon_","")](a)}else{gantt._qi_button_click(b.parentNode)}}},gantt._get_event_counter_part=function(d){for(var h=gantt.getTaskNode(d),k=0,c=0,b=h;b&&"gantt_task"!=b.className;){k+=b.offsetLeft,c+=b.offsetTop,b=b.offsetParent}var f=this.getScrollState();if(b){var g=k+h.offsetWidth/2-f.x>gantt._x/2?1:0,j=c+h.offsetHeight/2-f.y>gantt._y/2?1:0;return{left:k,top:c,dx:g,dy:j,width:h.offsetWidth,height:h.offsetHeight}}return 0},gantt._fill_quick_data=function(d){var g=gantt.getTask(d),h=gantt._quick_info_box;gantt._quick_info_box_id=d;var c=h.firstChild.firstChild;c.innerHTML=gantt.templates.quick_info_title(g.start_date,g.end_date,g);var b=c.nextSibling;b.innerHTML=gantt.templates.quick_info_date(g.start_date,g.end_date,g);var f=h.firstChild.nextSibling;f.innerHTML=gantt.templates.quick_info_content(g.start_date,g.end_date,g)};