function bindTableEvent(){}function beforeDataTableLoad(){}function afterLoadDataTable(e){var t=$("table","#div_"+e);t.length>1&&t.addClass("table-layout-fixed")}function loadDataTable(e,t){if(beforeDataTableLoad(e),"true"!=getUrlParam("disableDataTable")){var a=!1,n=$("#"+e);if(!(n.length>0&&$.fn.DataTable.fnIsDataTable(n[0]))&&n.is(":visible")){var o=$("thead:first tr:first",n);if(null!=o&&0!=o.length){var l=($("thead:first tr",n).length>1,document.documentElement.scrollHeight),r=(n.closest(".fragment-mode").find(".bottom").outerHeight(),n.outerHeight(),$("tbody",n).height()),i=JxUtil.getClientHeight(),d=JxUtil.getScroll(document.documentElement).scrollY,c=0==$("tbody tr",n).length;t&&(void 0==t.scroll||t.scroll||(d=!1));var f=r-(l-i)-2;debug(e+"表格的高度为："+f),t&&t.height&&(d=!0,f=t.height),n.attr("sheight")&&(d=!0,a=!0,f=n.attr("sheight")),150>f&&(f=c?42:150);var u={aaSorting:[],bAutoWidth:!1,bPaginate:!1,bLengthChange:!1,bFilter:!1,bSort:!1,bInfo:!1,bStateSave:!0,bDeferRender:!1,oLanguage:{sEmptyTable:getLangString("table.empty")}},g=getUrlParam("uid");!a&&g&&g>0&&(d=!1),("EDIT"!=n.attr("inputmode")||a)&&"TOP_ATTACHMENT"!=n.attr("jboname")&&d&&(u.sScrollY=f,n.closest(".fragment-mode").is(".fragment-mode-inline")&&(u.sScrollX="100%"),u.sDom="tS",u.fnInitComplete=function(t){var a;$(window).off("resize.resizeDatatable."+e).on("resize.resizeDatatable."+e,function(){clearTimeout(a),a=setTimeout(function(){resizeDataTable(n)},200)});var o=0;if(jx_appType&&"list"==jx_appType){var l=getUrlParam("fromUid");if(""!=l)for(var r=$("tr[uid!='']",n),i=0;i<r.length;i++)if($(r[i]).attr("uid")==l){o=i;break}}t.oScroller.fnScrollToRow(o)});var s=n.attr("fixedWidth");s&&s>JxUtil.getClientWidth()&&n.css({width:s});var p=n.dataTable(u);top.window.dataTableCollection&&(top.window.dataTableCollection[location.href+e]=n),afterLoadDataTable(e,p)}}}}function resizeDataTable(e){e.closest(".fragment-mode").is(".fragment-mode-inline")||e.fnAdjustColumnSizing()}function tableFilterQuickSearch(e,t){t=$.event.fix(t||window.event),"13"==t.keyCode&&$(e).blur()}function tableQuickSearch(e,t){t=$.event.fix(t||window.event);var a=$(e).val();"13"==t.keyCode?(dwr.engine.setAsync(!1),WebClientBean.tableQuickSearch(jx_appNameType,a,{callback:function(){var t=$(e).closest("table"),a=t.siblings("div");if(a.length>0){var n=a.attr("id");getTableData(n)}},errorHandler:errorHandler,exceptionHandler:exceptionHandler}),dwr.engine.setAsync(!0)):""==a?$(e).siblings(".placeholder").css("display",""):$(e).siblings(".placeholder").css("display","none")}function expandRow(e,t){var a=$(e),n=(a.closest("tbody"),a.closest("tr")),o=$("td",n).length,l=n.attr("uid"),r=$("tr[expand=1]");if(!(r.length>0&&($(".btn_expand.expanded").removeClass("expanded"),$(".table_expand_tr").remove(),r.removeAttr("expand"),l==r.attr("uid")))){var i='<tr id="exp_tr_'+l+'" class="table_expand_tr"><td colspan="'+o+'" id="exp_t'+l+'"><iframe scrolling="no" frameborder="0" src="index_'+t+".action?uid="+l+'" onload="expandFrameLoaded(this)" /></td></tr>';n.after(i).attr("expand","1"),a.addClass("expanded")}}function expandFrameLoaded(e){var t=$(e),a=$("body",e.contentDocument);e.height=a.height(),e.contentWindow.JxUtil.isExpandContext=!0,e.contentWindow.JxUtil.expandSourceRow=t.closest("tr").prev(),a.addClass("expandContext")}function setExpandSourceRowText(e,t){if(JxUtil.expandSourceRow){var a=e.attr("dataattribute"),n=e.attr("displayname"),o=JxUtil.expandSourceRow.find("[dataattribute*='"+(n?"."+n:a)+"']");if(o.length){var l=o.children();l.length&&(l.is("input")?l.val(t):l.is("span")&&l.attr("title",t).text(t))}}}function goWfApp(){}function pagePaste(){return!1}function pageBlur(e,t){var a=$(e),n=a.val(),o=a.attr("originvalue");n!=o&&pageGoto(t)}function pageKeypress(e,t){return t=$.event.fix(t||window.event),13==t.keyCode&&e.blur(),t.keyCode>=48&&t.keyCode<=57||8==t.keyCode}function pageKeydown(e,t){t=$.event.fix(t||window.event),13==t.keyCode&&pageGoto(e)}function pageSpanMouseover(){}function pageSpanMouseout(){}function pageGotoKeypress(e,t){var a=t||window.event;return 13==a.keyCode&&pageGoto(e),a.keyCode>=48&&a.keyCode<=57||46==a.keyCode}function spanSetPageSize(e,t){var a=document.getElementById(e+"_pagesize");a&&(a.value=t),document.getElementById(e+"_topage").value="1",pageGoto(e)}function pageGoto(e){getTableData("div_"+e,null,function(){afterFragmentLoad(e)},null,0)}function pageNext(e){var t=document.getElementById(e+"_pagenum"),a=document.getElementById(e+"_topage");"undefined"!=typeof t&&(a.value=t.value- -1),pageGoto(e)}function pagePre(e){var t=document.getElementById(e+"_pagenum"),a=document.getElementById(e+"_topage");"undefined"!=typeof t&&(a.value=t.value-1),pageGoto(e)}function pageFirst(e){var t=document.getElementById(e+"_pagenum"),a=document.getElementById(e+"_topage");"undefined"!=typeof t&&(a.value=1),pageGoto(e)}function pageLast(e){var t=document.getElementById(e+"_pagenum"),a=document.getElementById(e+"_pagecount"),n=document.getElementById(e+"_topage");"undefined"!=typeof t&&(n.value=a.value),pageGoto(e)}function pageSort(e){var t=$(e).attr("tid"),a=$(e).attr("dataattribute"),n=$(e).attr("sortname");if(null!=t&&""!=t&&((null==n||""==n)&&(n=a),null!=n&&""!=n)){var o=document.getElementById(t+"_pagesort");if("undefined"!=typeof o){var l=o.value,r="asc";l.indexOf(" asc")>0&&(r="desc"),o.value=n+" "+r}pageGoto(t)}}function addComtop(e){var t=comtopUrl+$(e).attr("mxevent_desc");window.location.href=t}function ckPageSelectHandler(e,t,a,n,o){e.form;a||(a="#ffffff"),n||(n="#ffffff"),o||(o="lightblue");for(var l="tr_"+t.split("_")[1]+"_",r=document.getElementsByName(t),i=0;i<r.length;i++){var d=r[i];if(!d.disabled&&"checkbox"==d.type){var c=[],f=document.all[l+i];if(f&&(void 0==f.length?c.push(f):c=f),d.checked=e.checked,d.checked)for(var u=0;u<c.length;u++)c[u].bgColor=o;else for(var u=0;u<c.length;u++)c[u].bgColor=(i+1)%2==0?n:a}}}function ckOneSelect(e,t,a,n,o,l,r){t=$.event.fix(t||window.event),t.stopPropagation(),ckOneSelectHandler(e,a,n,o,l,r)}function ckOneSelectHandler(e,t,a,n,o,l){ckChangeCheckboxState(e,l),ckChangeSelectedRowView(e,t,a,n,o)}function ckChangeCheckboxState(e,t){var a=e.form;if(e.checked){var n=0,o=document.getElementsByName(e.name),l=o.length,r=!0;for(0>n;l>n;n++)r=r&&o[n].checked;void 0==a.allbox?void 0!=t&&(document.getElementsByName(t)[0].checked=r):a.allbox.checked=r,null!=a.selectall&&(a.selectall.checked=r)}else{if(!t&&!a.allbox)return;a.allbox?a.allbox.checked=!1:document.getElementsByName(t)[0].checked=!1,a.selectall&&(a.selectall.checked=!1)}}function ckChangeSelectedRowView(e,t,a,n,o){a||(a="#ffffff"),n||(n="#ffffff"),o||(o="lightblue");for(var l=document.getElementsByName(e.name),r=null,i=e.parentElement;"TABLE"!=i.tagName&&(i=i.parentElement,"BODY"!=i.tagName););var d="tr_"+i.id+"_",c=t;if(null!=l&&null!=l.length)for(var f=0;f<l.length;f++){var u=[],g=document.all[d+f];g&&(void 0==g.length?u.push(g):u=g);for(var s=0;s<u.length;s++){var r=u[s];-1==c&&(t=f),f==t&&e.checked?r.bgColor=o:l[f].checked||(r.bgColor=(f+1)%2==0?n:a)}}}