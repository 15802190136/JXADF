!function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},o={onHoverOverNode:function(e,t){var r=i.getSetting(e.data.treeId),d=i.getRoot(r);d.curHoverNode!=t&&o.onHoverOutNode(e),d.curHoverNode=t,a.addHoverDom(r,t)},onHoverOutNode:function(e){var e=i.getSetting(e.data.treeId),t=i.getRoot(e);t.curHoverNode&&!i.isSelectedNode(e,t.curHoverNode)&&(a.removeTreeDom(e,t.curHoverNode),t.curHoverNode=null)},onMousedownNode:function(o,r){function s(o){if(0==m.dragFlag&&Math.abs(S-o.clientX)<g.edit.drag.minMoveSize&&Math.abs(Y-o.clientY)<g.edit.drag.minMoveSize)return!0;var r,s,N,u,v;if(v=g.data.key.children,M.css("cursor","pointer"),0==m.dragFlag){if(0==d.apply(g.callback.beforeDrag,[g.treeId,E],!0))return c(o),!0;for(r=0,s=E.length;s>r;r++)0==r&&(m.dragNodeShowBefore=[]),N=E[r],N.isParent&&N.open?(a.expandCollapseNode(g,N,!N.open),m.dragNodeShowBefore[N.tId]=!0):m.dragNodeShowBefore[N.tId]=!1;if(m.dragFlag=1,p.showHoverDom=!1,d.showIfameMask(g,!0),N=!0,u=-1,E.length>1){var T=E[0].parentTId?E[0].getParentNode()[v]:i.getNodes(g);for(v=[],r=0,s=T.length;s>r;r++)if(void 0!==m.dragNodeShowBefore[T[r].tId]&&(N&&u>-1&&u+1!==r&&(N=!1),v.push(T[r]),u=r),E.length===v.length){E=v;break}}for(N&&(R=E[0].getPreNode(),P=E[E.length-1].getNextNode()),I=l("<ul class='zTreeDragUL'></ul>",g),r=0,s=E.length;s>r;r++)if(N=E[r],N.editNameFlag=!1,a.selectNode(g,N,r>0),a.removeTreeDom(g,N),u=l("<li id='"+N.tId+"_tmp'></li>",g),u.append(l(N,n.id.A,g).clone()),u.css("padding","0"),u.children("#"+N.tId+n.id.A).removeClass(n.node.CURSELECTED),I.append(u),r==g.edit.drag.maxShowNodeNum-1){u=l("<li id='"+N.tId+"_moretmp'><a>  ...  </a></li>",g),I.append(u);break}I.attr("id",E[0].tId+n.id.UL+"_tmp"),I.addClass(g.treeObj.attr("class")),I.appendTo(M),b=l("<span class='tmpzTreeMove_arrow'></span>",g),b.attr("id","zTreeMove_arrow_tmp"),b.appendTo(M),g.treeObj.trigger(n.event.DRAG,[o,g.treeId,E])}if(1==m.dragFlag){h&&b.attr("id")==o.target.id&&k&&o.clientX+w.scrollLeft()+2>e("#"+k+n.id.A,h).offset().left?(N=e("#"+k+n.id.A,h),o.target=N.length>0?N.get(0):o.target):h&&(h.removeClass(n.node.TMPTARGET_TREE),k&&e("#"+k+n.id.A,h).removeClass(n.node.TMPTARGET_NODE+"_"+n.move.TYPE_PREV).removeClass(n.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(n.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),k=h=null,_=!1,C=g,N=i.getSettings();for(var f in N)N[f].treeId&&N[f].edit.enable&&N[f].treeId!=g.treeId&&(o.target.id==N[f].treeId||e(o.target).parents("#"+N[f].treeId).length>0)&&(_=!0,C=N[f]);f=w.scrollTop(),u=w.scrollLeft(),v=C.treeObj.offset(),r=C.treeObj.get(0).scrollHeight,N=C.treeObj.get(0).scrollWidth,s=o.clientY+f-v.top;var O=C.treeObj.height()+v.top-o.clientY-f,j=o.clientX+u-v.left,x=C.treeObj.width()+v.left-o.clientX-u;v=s<g.edit.drag.borderMax&&s>g.edit.drag.borderMin;var T=O<g.edit.drag.borderMax&&O>g.edit.drag.borderMin,z=j<g.edit.drag.borderMax&&j>g.edit.drag.borderMin,B=x<g.edit.drag.borderMax&&x>g.edit.drag.borderMin,O=s>g.edit.drag.borderMin&&O>g.edit.drag.borderMin&&j>g.edit.drag.borderMin&&x>g.edit.drag.borderMin,j=v&&C.treeObj.scrollTop()<=0,x=T&&C.treeObj.scrollTop()+C.treeObj.height()+10>=r,H=z&&C.treeObj.scrollLeft()<=0,F=B&&C.treeObj.scrollLeft()+C.treeObj.width()+10>=N;if(o.target.id&&C.treeObj.find("#"+o.target.id).length>0){for(var U=o.target;U&&U.tagName&&!d.eqs(U.tagName,"li")&&U.id!=C.treeId;)U=U.parentNode;var V=!0;for(r=0,s=E.length;s>r;r++){if(N=E[r],U.id===N.tId){V=!1;break}if(l(N,g).find("#"+U.id).length>0){V=!1;break}}V&&o.target.id&&(o.target.id==U.id+n.id.A||e(o.target).parents("#"+U.id+n.id.A).length>0)&&(h=e(U),k=U.id)}if(N=E[0],O&&(o.target.id==C.treeId||e(o.target).parents("#"+C.treeId).length>0)&&(!h&&(o.target.id==C.treeId||j||x||H||F)&&(_||!_&&N.parentTId)&&(h=C.treeObj),v?C.treeObj.scrollTop(C.treeObj.scrollTop()-10):T&&C.treeObj.scrollTop(C.treeObj.scrollTop()+10),z?C.treeObj.scrollLeft(C.treeObj.scrollLeft()-10):B&&C.treeObj.scrollLeft(C.treeObj.scrollLeft()+10),h&&h!=C.treeObj&&h.offset().left<C.treeObj.offset().left&&C.treeObj.scrollLeft(C.treeObj.scrollLeft()+h.offset().left-C.treeObj.offset().left)),I.css({top:o.clientY+f+3+"px",left:o.clientX+u+3+"px"}),v=r=0,h&&h.attr("id")!=C.treeId){var G=null==k?null:i.getNodeCache(C,k);s=o.ctrlKey&&g.edit.drag.isMove&&g.edit.drag.isCopy||!g.edit.drag.isMove&&g.edit.drag.isCopy,r=!(!R||k!==R.tId),v=!(!P||k!==P.tId),u=N.parentTId&&N.parentTId==k,N=(s||!v)&&d.apply(C.edit.drag.prev,[C.treeId,E,G],!!C.edit.drag.prev),r=(s||!r)&&d.apply(C.edit.drag.next,[C.treeId,E,G],!!C.edit.drag.next),B=!(!s&&u||C.data.keep.leaf&&!G.isParent||!d.apply(C.edit.drag.inner,[C.treeId,E,G],!!C.edit.drag.inner)),N||r||B?(s=e("#"+k+n.id.A,h),v=G.isLastNode?null:e("#"+G.getNextNode().tId+n.id.A,h.next()),T=s.offset().top,u=s.offset().left,z=N?B?.25:r?.5:1:-1,B=r?B?.75:N?.5:0:-1,o=(o.clientY+f-T)/s.height(),(1==z||z>=o&&o>=-.2)&&N?(r=1-b.width(),v=T-b.height()/2,L=n.move.TYPE_PREV):(0==B||o>=B&&1.2>=o)&&r?(r=1-b.width(),v=null==v||G.isParent&&G.open?T+s.height()-b.height()/2:v.offset().top-b.height()/2,L=n.move.TYPE_NEXT):(r=5-b.width(),v=T,L=n.move.TYPE_INNER),b.css({display:"block",top:v+"px",left:u+r+"px"}),s.addClass(n.node.TMPTARGET_NODE+"_"+L),(D!=k||y!=L)&&(A=(new Date).getTime()),G&&G.isParent&&L==n.move.TYPE_INNER&&(o=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==G.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===G.tId&&(o=!1),o)&&(window.zTreeMoveTimer=setTimeout(function(){L==n.move.TYPE_INNER&&G&&G.isParent&&!G.open&&(new Date).getTime()-A>C.edit.drag.autoOpenTime&&d.apply(C.callback.beforeDragOpen,[C.treeId,G],!0)&&(a.switchNode(C,G),C.edit.drag.autoExpandTrigger&&C.treeObj.trigger(n.event.EXPAND,[C.treeId,G]))},C.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=G.tId)):(h=null,k="",L=n.move.TYPE_INNER,b.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null))}else L=n.move.TYPE_INNER,h&&d.apply(C.edit.drag.inner,[C.treeId,E,null],!!C.edit.drag.inner)?h.addClass(n.node.TMPTARGET_TREE):h=null,b.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);D=k,y=L}return!1}function c(o){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),y=D=null,w.unbind("mousemove",s),w.unbind("mouseup",c),w.unbind("selectstart",N),M.css("cursor","auto"),h&&(h.removeClass(n.node.TMPTARGET_TREE),k&&e("#"+k+n.id.A,h).removeClass(n.node.TMPTARGET_NODE+"_"+n.move.TYPE_PREV).removeClass(n.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(n.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),d.showIfameMask(g,!1),p.showHoverDom=!0,0!=m.dragFlag){m.dragFlag=0;var r,u,v;for(r=0,u=E.length;u>r;r++)v=E[r],v.isParent&&m.dragNodeShowBefore[v.tId]&&!v.open&&(a.expandCollapseNode(g,v,!v.open),delete m.dragNodeShowBefore[v.tId]);I&&I.remove(),b&&b.remove();var T=o.ctrlKey&&g.edit.drag.isMove&&g.edit.drag.isCopy||!g.edit.drag.isMove&&g.edit.drag.isCopy;if(!T&&h&&k&&E[0].parentTId&&k==E[0].parentTId&&L==n.move.TYPE_INNER&&(h=null),h){var f=null==k?null:i.getNodeCache(C,k);if(0==d.apply(g.callback.beforeDrop,[C.treeId,E,f,L,T],!0))a.selectNodes(O,E);else{var R=T?d.clone(E):E;r=function(){if(_){if(!T)for(var e=0,t=E.length;t>e;e++)a.removeNode(g,E[e]);if(L==n.move.TYPE_INNER)a.addNodes(C,f,R);else if(a.addNodes(C,f.getParentNode(),R),L==n.move.TYPE_PREV)for(e=0,t=R.length;t>e;e++)a.moveNode(C,f,R[e],L,!1);else for(e=-1,t=R.length-1;t>e;t--)a.moveNode(C,f,R[t],L,!1)}else if(T&&L==n.move.TYPE_INNER)a.addNodes(C,f,R);else if(T&&a.addNodes(C,f.getParentNode(),R),L!=n.move.TYPE_NEXT)for(e=0,t=R.length;t>e;e++)a.moveNode(C,f,R[e],L,!1);else for(e=-1,t=R.length-1;t>e;t--)a.moveNode(C,f,R[t],L,!1);a.selectNodes(C,R),l(R[0],g).focus().blur(),g.treeObj.trigger(n.event.DROP,[o,C.treeId,R,f,L,T])},L==n.move.TYPE_INNER&&d.canAsync(C,f)?a.asyncNode(C,f,!1,r):r()}}else a.selectNodes(O,E),g.treeObj.trigger(n.event.DROP,[o,g.treeId,E,null,null,null])}}function N(){return!1}var u,v,g=i.getSetting(o.data.treeId),m=i.getRoot(g),p=i.getRoots();if(2==o.button||!g.edit.enable||!g.edit.drag.isCopy&&!g.edit.drag.isMove)return!0;var T=o.target,f=i.getRoot(g).curSelectedList,E=[];if(i.isSelectedNode(g,r))for(u=0,v=f.length;v>u;u++){if(f[u].editNameFlag&&d.eqs(T.tagName,"input")&&null!==T.getAttribute("treeNode"+n.id.INPUT))return!0;if(E.push(f[u]),E[0].parentTId!==f[u].parentTId){E=[r];break}}else E=[r];a.editNodeBlur=!0,a.cancelCurEditNode(g);var I,b,h,R,P,w=e(g.treeObj.get(0).ownerDocument),M=e(g.treeObj.get(0).ownerDocument.body),_=!1,C=g,O=g,D=null,y=null,k=null,L=n.move.TYPE_INNER,S=o.clientX,Y=o.clientY,A=(new Date).getTime();return d.uCanDo(g)&&w.bind("mousemove",s),w.bind("mouseup",c),w.bind("selectstart",N),o.preventDefault&&o.preventDefault(),!0}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,{tools:{getAbs:function(e){return e=e.getBoundingClientRect(),[e.left+(document.body.scrollLeft+document.documentElement.scrollLeft),e.top+(document.body.scrollTop+document.documentElement.scrollTop)]},inputFocus:function(e){e.get(0)&&(e.focus(),d.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",t),o.select()}},showIfameMask:function(e,t){for(var o=i.getRoot(e);o.dragMaskList.length>0;)o.dragMaskList[0].remove(),o.dragMaskList.shift();if(t)for(var r=l("iframe",e),n=0,a=r.length;a>n;n++){var s=r.get(n),c=d.getAbs(s),s=l("<div id='zTreeMask_"+n+"' class='zTreeMask' style='top:"+c[1]+"px; left:"+c[0]+"px; width:"+s.offsetWidth+"px; height:"+s.offsetHeight+"px;'></div>",e);s.appendTo(l("body",e)),o.dragMaskList.push(s)}}},view:{addEditBtn:function(e,t){if(!(t.editNameFlag||l(t,n.id.EDIT,e).length>0)&&d.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var o=l(t,n.id.A,e),r="<span class='"+n.className.BUTTON+" edit' id='"+t.tId+n.id.EDIT+"' title='"+d.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+n.id.EDIT+" style='display:none;'></span>";o.append(r),l(t,n.id.EDIT,e).bind("click",function(){return d.uCanDo(e)&&0!=d.apply(e.callback.beforeEditName,[e.treeId,t],!0)?(a.editNode(e,t),!1):!1}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||l(t,n.id.REMOVE,e).length>0)&&d.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var o=l(t,n.id.A,e),r="<span class='"+n.className.BUTTON+" remove' id='"+t.tId+n.id.REMOVE+"' title='"+d.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+n.id.REMOVE+" style='display:none;'></span>";o.append(r),l(t,n.id.REMOVE,e).bind("click",function(){return d.uCanDo(e)&&0!=d.apply(e.callback.beforeRemove,[e.treeId,t],!0)?(a.removeNode(e,t),e.treeObj.trigger(n.event.REMOVE,[e.treeId,t]),!1):!1}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(e,t){i.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(a.addEditBtn(e,t),a.addRemoveBtn(e,t)),d.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t){var o=i.getRoot(e),r=e.data.key.name,s=o.curEditNode;if(s){var c=o.curEditInput,N=t?t:c.val(),u=!!t;if(d.apply(e.callback.beforeRename,[e.treeId,s,N,u],!0)===!1)return!1;s[r]=N?N:c.val(),e.treeObj.trigger(n.event.RENAME,[e.treeId,s,u]),l(s,n.id.A,e).removeClass(n.node.CURSELECTED_EDIT),c.unbind(),a.setNodeName(e,s),s.editNameFlag=!1,o.curEditNode=null,o.curEditInput=null,a.selectNode(e,s,!1)}return o.noSelection=!0},editNode:function(e,t){var o=i.getRoot(e);if(a.editNodeBlur=!1,i.isSelectedNode(e,t)&&o.curEditNode==t&&t.editNameFlag)setTimeout(function(){d.inputFocus(o.curEditInput)},0);else{var r=e.data.key.name;t.editNameFlag=!0,a.removeTreeDom(e,t),a.cancelCurEditNode(e),a.selectNode(e,t,!1),l(t,n.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+n.id.INPUT+"' treeNode"+n.id.INPUT+" >");var s=l(t,n.id.INPUT,e);s.attr("value",t[r]),e.edit.editNameSelectAll?d.inputSelect(s):d.inputFocus(s),s.bind("blur",function(){a.editNodeBlur||a.cancelCurEditNode(e)}).bind("keydown",function(o){"13"==o.keyCode?(a.editNodeBlur=!0,a.cancelCurEditNode(e)):"27"==o.keyCode&&a.cancelCurEditNode(e,t[r])}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),l(t,n.id.A,e).addClass(n.node.CURSELECTED_EDIT),o.curEditInput=s,o.noSelection=!1,o.curEditNode=t}},moveNode:function(e,t,o,r,d,s){var c=i.getRoot(e),N=e.data.key.children;if(t!=o&&(!e.data.keep.leaf||!t||t.isParent||r!=n.move.TYPE_INNER)){var u=o.parentTId?o.getParentNode():c,v=null===t||t==c;v&&null===t&&(t=c),v&&(r=n.move.TYPE_INNER),c=t.parentTId?t.getParentNode():c,r!=n.move.TYPE_PREV&&r!=n.move.TYPE_NEXT&&(r=n.move.TYPE_INNER),r==n.move.TYPE_INNER&&(v?o.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,a.setNodeLineIcos(e,t)),o.parentTId=t.tId));var g;v?g=v=e.treeObj:(s||r!=n.move.TYPE_INNER?s||a.expandCollapseNode(e,t.getParentNode(),!0,!1):a.expandCollapseNode(e,t,!0,!1),v=l(t,e),g=l(t,n.id.UL,e),v.get(0)&&!g.get(0)&&(g=[],a.makeUlHtml(e,t,g,""),v.append(g.join(""))),g=l(t,n.id.UL,e));var m=l(o,e);m.get(0)?v.get(0)||m.remove():m=a.appendNodes(e,o.level,[o],null,!1,!0).join(""),g.get(0)&&r==n.move.TYPE_INNER?g.append(m):v.get(0)&&r==n.move.TYPE_PREV?v.before(m):v.get(0)&&r==n.move.TYPE_NEXT&&v.after(m);var p=-1,T=0,f=null,v=null,E=o.level;if(o.isFirstNode)p=0,u[N].length>1&&(f=u[N][1],f.isFirstNode=!0);else if(o.isLastNode)p=u[N].length-1,f=u[N][p-1],f.isLastNode=!0;else for(g=0,m=u[N].length;m>g;g++)if(u[N][g].tId==o.tId){p=g;break}if(p>=0&&u[N].splice(p,1),r!=n.move.TYPE_INNER)for(g=0,m=c[N].length;m>g;g++)c[N][g].tId==t.tId&&(T=g);r==n.move.TYPE_INNER?(t[N]||(t[N]=[]),t[N].length>0&&(v=t[N][t[N].length-1],v.isLastNode=!1),t[N].splice(t[N].length,0,o),o.isLastNode=!0,o.isFirstNode=1==t[N].length):t.isFirstNode&&r==n.move.TYPE_PREV?(c[N].splice(T,0,o),v=t,v.isFirstNode=!1,o.parentTId=t.parentTId,o.isFirstNode=!0,o.isLastNode=!1):t.isLastNode&&r==n.move.TYPE_NEXT?(c[N].splice(T+1,0,o),v=t,v.isLastNode=!1,o.parentTId=t.parentTId,o.isFirstNode=!1,o.isLastNode=!0):(r==n.move.TYPE_PREV?c[N].splice(T,0,o):c[N].splice(T+1,0,o),o.parentTId=t.parentTId,o.isFirstNode=!1,o.isLastNode=!1),i.fixPIdKeyValue(e,o),i.setSonNodeLevel(e,o.getParentNode(),o),a.setNodeLineIcos(e,o),a.repairNodeLevelClass(e,o,E),!e.data.keep.parent&&u[N].length<1?(u.isParent=!1,u.open=!1,t=l(u,n.id.UL,e),r=l(u,n.id.SWITCH,e),N=l(u,n.id.ICON,e),a.replaceSwitchClass(u,r,n.folder.DOCU),a.replaceIcoClass(u,N,n.folder.DOCU),t.css("display","none")):f&&a.setNodeLineIcos(e,f),v&&a.setNodeLineIcos(e,v),e.check&&e.check.enable&&a.repairChkClass&&(a.repairChkClass(e,u),a.repairParentChkClassWithSelf(e,u),u!=o.parent&&a.repairParentChkClassWithSelf(e,o)),s||a.expandCollapseParentNode(e,o.getParentNode(),!0,d)}},removeEditBtn:function(e,t){l(t,n.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){l(t,n.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,a.removeEditBtn(e,t),a.removeRemoveBtn(e,t),d.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,o){if(o!==t.level){var r=l(t,e),d=l(t,n.id.A,e),e=l(t,n.id.UL,e),o=n.className.LEVEL+o,t=n.className.LEVEL+t.level;r.removeClass(o),r.addClass(t),d.removeClass(o),d.addClass(t),e.removeClass(o),e.addClass(t)}},selectNodes:function(e,t){for(var o=0,r=t.length;r>o;o++)a.selectNode(e,t[o],o>0)}},event:{},data:{setSonNodeLevel:function(e,t,o){if(o){var r=e.data.key.children;if(o.level=t?t.level+1:0,o[r])for(var t=0,d=o[r].length;d>t;t++)o[r][t]&&i.setSonNodeLevel(e,o,o[r][t])}}}});var r=e.fn.zTree,d=r._z.tools,n=r.consts,a=r._z.view,i=r._z.data,l=d.$;i.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDrop:null,onRename:null}}),i.addInitBind(function(e){var t=e.treeObj,o=n.event;t.bind(o.RENAME,function(t,o,r,n){d.apply(e.callback.onRename,[t,o,r,n])}),t.bind(o.REMOVE,function(t,o,r){d.apply(e.callback.onRemove,[t,o,r])}),t.bind(o.DRAG,function(t,o,r,n){d.apply(e.callback.onDrag,[o,r,n])}),t.bind(o.DROP,function(t,o,r,n,a,i,l){d.apply(e.callback.onDrop,[o,r,n,a,i,l])})}),i.addInitUnBind(function(e){var e=e.treeObj,t=n.event;e.unbind(t.RENAME),e.unbind(t.REMOVE),e.unbind(t.DRAG),e.unbind(t.DROP)}),i.addInitCache(function(){}),i.addInitNode(function(e,t,o){o&&(o.isHover=!1,o.editNameFlag=!1)}),i.addInitProxy(function(e){var t=e.target,r=i.getSetting(e.data.treeId),a=e.relatedTarget,l="",s=null,c="",N=null,u=null;if(d.eqs(e.type,"mouseover")?(u=d.getMDom(r,t,[{tagName:"a",attrName:"treeNode"+n.id.A}]))&&(l=d.getNodeMainDom(u).id,c="hoverOverNode"):d.eqs(e.type,"mouseout")?(u=d.getMDom(r,a,[{tagName:"a",attrName:"treeNode"+n.id.A}]),u||(l="remove",c="hoverOutNode")):d.eqs(e.type,"mousedown")&&(u=d.getMDom(r,t,[{tagName:"a",attrName:"treeNode"+n.id.A}]))&&(l=d.getNodeMainDom(u).id,c="mousedownNode"),l.length>0)switch(s=i.getNodeCache(r,l),c){case"mousedownNode":N=o.onMousedownNode;break;case"hoverOverNode":N=o.onHoverOverNode;break;case"hoverOutNode":N=o.onHoverOutNode}return{stop:!1,node:s,nodeEventType:c,nodeEventCallback:N,treeEventType:"",treeEventCallback:null}}),i.addInitRoot(function(e){var e=i.getRoot(e),t=i.getRoots();e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=[],t.showHoverDom=!0}),i.addZTreeTools(function(e,t){t.cancelEditName=function(t){var o=i.getRoot(e),r=e.data.key.name,d=o.curEditNode;o.curEditNode&&a.cancelCurEditNode(e,t?t:d[r])},t.copyNode=function(t,o,r,i){if(!o)return null;if(t&&!t.isParent&&e.data.keep.leaf&&r===n.move.TYPE_INNER)return null;var l=d.clone(o);return t||(t=null,r=n.move.TYPE_INNER),r==n.move.TYPE_INNER?(o=function(){a.addNodes(e,t,[l],i)},d.canAsync(e,t)?a.asyncNode(e,t,i,o):o()):(a.addNodes(e,t.parentNode,[l],i),a.moveNode(e,t,l,r,!1,i)),l},t.editName=function(t){t&&t.tId&&t===i.getNodeCache(e,t.tId)&&(t.parentTId&&a.expandCollapseParentNode(e,t.getParentNode(),!0),a.editNode(e,t))},t.moveNode=function(t,o,r,i){function s(){a.moveNode(e,t,o,r,!1,i)}return o?t&&!t.isParent&&e.data.keep.leaf&&r===n.move.TYPE_INNER?null:t&&(o.parentTId==t.tId&&r==n.move.TYPE_INNER||l(o,e).find("#"+t.tId).length>0)?null:(t||(t=null),d.canAsync(e,t)&&r===n.move.TYPE_INNER?a.asyncNode(e,t,i,s):s(),o):o},t.setEditable=function(t){return e.edit.enable=t,this.refresh()}});var s=a.cancelPreSelectedNode;a.cancelPreSelectedNode=function(e,t){for(var o=i.getRoot(e).curSelectedList,r=0,d=o.length;d>r&&(t&&t!==o[r]||(a.removeTreeDom(e,o[r]),!t));r++);s&&s.apply(a,arguments)};var c=a.createNodes;a.createNodes=function(e,t,o,r){c&&c.apply(a,arguments),o&&a.repairParentChkClassWithSelf&&a.repairParentChkClassWithSelf(e,r)};var N=a.makeNodeUrl;a.makeNodeUrl=function(e){return e.edit.enable?null:N.apply(a,arguments)};var u=a.removeNode;a.removeNode=function(e,t){var o=i.getRoot(e);o.curEditNode===t&&(o.curEditNode=null),u&&u.apply(a,arguments)};var v=a.selectNode;a.selectNode=function(e,t){var o=i.getRoot(e);return i.isSelectedNode(e,t)&&o.curEditNode==t&&t.editNameFlag?!1:(v&&v.apply(a,arguments),a.addHoverDom(e,t),!0)};var g=d.uCanDo;d.uCanDo=function(e,t){var o=i.getRoot(e);return t&&(d.eqs(t.type,"mouseover")||d.eqs(t.type,"mouseout")||d.eqs(t.type,"mousedown")||d.eqs(t.type,"mouseup"))?!0:!o.curEditNode&&(g?g.apply(a,arguments):!0)}}(jQuery);